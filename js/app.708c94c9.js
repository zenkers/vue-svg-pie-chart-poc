(function(t){function e(e){for(var i,a,o=e[0],s=e[1],u=e[2],d=0,h=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&h.push(c[a][0]),c[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);l&&l(e);while(h.length)h.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var s=n[o];0!==c[s]&&(i=!1)}i&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},c={app:0},r=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/vue-svg-pie-chart-poc/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1120:function(t,e,n){"use strict";var i=n("a43c"),c=n.n(i);c.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1),n("svg",{staticStyle:{height:"0"}},[n("defs",[n("filter",{attrs:{id:"fe-dropshadow",x:"-2",y:"-2",width:"100",height:"100"}},[n("feDropShadow",{attrs:{dx:"0",dy:"0",stdDeviation:"1.5"}})],1)])])],1)},r=[],a=(n("5c0b"),n("2877")),o={},s=Object(a["a"])(o,c,r,!1,null,null,null),u=s.exports,l=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("button",{staticClass:"home__add-item-button",on:{click:t.AddListItem}},[t._v(" Add item ")]),n("Demo",{attrs:{list:t.list}})],1)},h=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"demo-diagram"},[n("div",{staticClass:"demo-diagram__charts"},[t._l(t.renderLists,(function(t,e){return[n("AppChartPie",{key:e,attrs:{list:t,title:"Count "+(e+1)}})]}))],2),n("AppChartLegend",{attrs:{list:t.listActive,"disable-checkbox":t.countCheckedItems<=3},on:{checkEvent:t.handleCheckEvent}})],1)},p=[],m=(n("99af"),n("c740"),n("4160"),n("a15b"),n("d81d"),n("13d5"),n("a434"),n("b0c0"),n("b680"),n("d3b7"),n("25f0"),n("159b"),n("5530")),v=n("3835"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"app-chart-legend"},t._l(t.list,(function(e){return n("li",{key:e.id,staticClass:"app-chart-legend__item"},[n("div",{staticClass:"app-chart-legend__item-color",style:{backgroundColor:e.color}}),t._v(" "+t._s(e.name)+" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"item.checked"}],attrs:{type:"checkbox",disabled:t.disableCheckbox&&e.checked,id:"checkbox-"+e.id},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:[function(n){var i=e.checked,c=n.target,r=!!c.checked;if(Array.isArray(i)){var a=null,o=t._i(i,a);c.checked?o<0&&t.$set(e,"checked",i.concat([a])):o>-1&&t.$set(e,"checked",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(e,"checked",r)},function(n){return t.handleChange(e)}]}})])})),0)},g=[],k={name:"AppChartLegend",props:{disableCheckbox:{type:Boolean,required:!1,default:!1},list:{type:Array,required:!0,default:function(){return[]}}},methods:{handleChange:function(t){this.$emit("checkEvent",t)}}},_=k,y=(n("afea"),Object(a["a"])(_,b,g,!1,null,null,null)),C=y.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-chart-pie"},[t.title?n("h2",[t._v(" "+t._s(t.title)+" ")]):t._e(),n("svg",{staticClass:"app-chart-pie__svg",attrs:{viewBox:"-1 -1 2 2"}},[t._l(t.list,(function(t){return[n("path",{key:t.id,staticClass:"app-chart-pie__path",attrs:{fill:t.color,d:t.d}})]}))],2)])},A=[],w={name:"AppPieChart",props:{list:{type:Array,required:!0,default:function(){return[]}},title:{type:String,required:!1,default:""}}},P=w,x=(n("1120"),Object(a["a"])(P,L,A,!1,null,null,null)),O=x.exports,j={name:"Demo",components:{AppChartLegend:C,AppChartPie:O},props:{list:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{listActive:[],renderLists:[]}},computed:{countCheckedItems:function(){return this.listActive.reduce((function(t,e){return e.checked?t+1:t}),0)}},watch:{list:function(){this.initializeListActive()}},created:function(){this.initializeListActive()},methods:{calcListPercent:function(t){var e=this,n=0,i=[],c=t.reduce((function(t,e){return e.checked?t+e.count:t}),0);return t.forEach((function(t){var r=e.getCoordinatesForPercent(n),a=Object(v["a"])(r,2),o=a[0],s=a[1],u=t.checked?t.count/c:0,l=u>.5?1:0;n+=u;var d=t.checked?e.getCoordinatesForPercent(n):[o,s],h=Object(v["a"])(d,2),f=h[0],p=h[1];i.push(Object(m["a"])({},t,{percent:u,d:e.formatDrawnPath(o,s,l,f,p)}))})),i},formatDrawnPath:function(t,e,n,i,c){return["M ".concat(t," ").concat(e),"A 1 1 0 ".concat(n," 1 ").concat(i," ").concat(c),"L 0 0"].join(" ")},formatList:function(t){return this.listActive.map((function(e){return{id:e.id,name:e.name,checked:e.checked,color:e.color,count:e[t]}}))},generateRandomColor:function(){var t="#".concat(Math.floor(16777215*Math.random()).toString(16));while(t.length<7)t=t.concat("",(10*Math.random()).toFixed(0));return t},getCoordinatesForPercent:function(t){var e=Math.cos(2*Math.PI*t),n=Math.sin(2*Math.PI*t);return[e,n]},handleCheckEvent:function(t){var e=this.listActive.findIndex((function(e){return e.id===t.id}));-1!==e&&this.listActive.splice(e,1,t),this.initializeListCount()},initializeListActive:function(){var t=this;this.listActive=this.list.map((function(e){return Object(m["a"])({},e,{checked:!0,color:t.generateRandomColor()})})),this.initializeListCount()},initializeListCount:function(){this.renderLists=[],this.renderLists.push(this.calcListPercent(this.formatList("count1"))),this.renderLists.push(this.calcListPercent(this.formatList("count2"))),this.renderLists.push(this.calcListPercent(this.formatList("count3"))),this.renderLists.push(this.calcListPercent(this.formatList("count4")))}}},M=j,E=(n("750d"),Object(a["a"])(M,f,p,!1,null,null,null)),S=E.exports,$={name:"Home",components:{Demo:S},data:function(){return{list:[{id:1,name:"Test 1",count1:44,count2:82,count3:13,count4:1},{id:2,name:"Test 2",count1:12,count2:44,count3:10,count4:3},{id:3,name:"Test 3",count1:73,count2:14,count3:55,count4:5},{id:4,name:"Test 4",count1:26,count2:39,count3:67,count4:16},{id:5,name:"Test 5",count1:68,count2:49,count3:18,count4:14}]}},methods:{AddListItem:function(){this.list.push({id:this.list.length+1,name:"Test ".concat(this.list.length+1),count1:100*Math.random(),count2:100*Math.random(),count3:100*Math.random(),count4:100*Math.random()})}}},T=$,D=Object(a["a"])(T,d,h,!1,null,null,null),I=D.exports;i["a"].use(l["a"]);var z=[{path:"/",name:"Home",component:I}],q=new l["a"]({mode:"history",base:"/vue-svg-pie-chart-poc/",routes:z}),F=q,B=n("2f62");i["a"].use(B["a"]);var H=new B["a"].Store({state:{},mutations:{},actions:{},modules:{}});i["a"].config.productionTip=!1,new i["a"]({router:F,store:H,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),c=n.n(i);c.a},"750d":function(t,e,n){"use strict";var i=n("a09f"),c=n.n(i);c.a},"9c0c":function(t,e,n){},a09f:function(t,e,n){},a407:function(t,e,n){},a43c:function(t,e,n){},afea:function(t,e,n){"use strict";var i=n("a407"),c=n.n(i);c.a}});
//# sourceMappingURL=app.708c94c9.js.map